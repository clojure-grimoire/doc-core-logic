{:ns "clojure.core.logic", :name "retractions", :file "clojure/core/logic.clj", :type :fn, :src "(defn retractions\n  \"Retract a series of facts. Takes a vector of vectors where each vector\n   represents a fact tuple, all with the same number of elements. It is not\n   an error to retract a fact that isn't true.\"\n  ([rel [f :as tuples]] (retractions rel (count f) tuples))\n  ([^Rel rel arity tuples]\n     (let [rel-ns (:ns (meta rel))\n           rel-set (var-get (ns-resolve rel-ns (set-sym (.name rel) arity)))\n           tuples (map vec tuples)]\n       (swap! rel-set (fn [s] (remove #(some #{%} tuples) s)))\n       (let [indexes (indexes-for rel arity)]\n         (doseq [[o i] indexes]\n           (let [index (var-get (ns-resolve rel-ns (index-sym (.name rel) arity o)))]\n             (let [indexed-tuples (map (fn [t]\n                                         {(nth t (dec i)) #{t}})\n                                       tuples)]\n               (swap! index\n                      (fn [i]\n                        (apply difference-with set/difference i indexed-tuples))))))))))", :column 1, :line 1651, :arglists ([rel [f :as tuples]] [rel arity tuples]), :doc "Retract a series of facts. Takes a vector of vectors where each vector\n   represents a fact tuple, all with the same number of elements. It is not\n   an error to retract a fact that isn't true."}